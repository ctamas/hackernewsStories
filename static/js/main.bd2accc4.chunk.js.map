{"version":3,"sources":["loading.png","components/search.jsx","components/cardContainer.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Search","_this","this","react_default","a","createElement","autoFocus","className","placeholder","value","props","query","onChange","e","handleSearch","target","Component","ChartContainer","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleExpand","event","includes","setState","expanded","state","bind","assertThisInitialized","text","story","title","length","maxLength","slice","expandedClass","storyText","getStoryText","Card_default","key","id","onClick","Body","score","rel","href","url","Title","Subtitle","by","Text","App","undefined","newStories","allStories","filter","toLowerCase","stories","loadNews","fetch","then","res","json","newsList","loadNewsStories","error","isLoaded","promises","map","storyId","index","concat","toConsumableArray","minStoriesLoaded","Promise","all","storyList","cardContainer","CardDeck_default","alt","src","loadingSpinner","cardDeck","getCardDeck","Fragment","Navbar_default","bg","Brand","Fade_default","in","search","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bd2accc4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAD7UlEQVR4nO3bT2hcVRTH8Y9FhjGEIEGkhCBFYlAQFBERVwpddFE34kKKi+JKxEU3uhBcSBcSgosuXLhwEURcFikiIlKyqLUW/8QaoiJI0RjFP/VfTBSTuLgzJkwn8+69771hwPeFs5qZc8/vzH3373k0NDT8n7lmCG20cW/H7sAMpjGJVuc7f+NnfIsvsYT38S7+rDCWk3i2Qn/7MoZjOIMN7GTaBt7EcYyXjGm+47NWDmIOV+SL3s9+xSnclBFXV3xtCRjH81hXvfBe+0tIxGRkbHvF15KAo1hVv/Be+x6PFMQ21+d3ldHGSxUKyrXX9B8fTu7z/UqYwsUREN+1ZdwcIX5H+ONKMYvLIyC63yNxp/7dft8EpK4DZnFW6AE5fCHM7yvCnP8btoUufBC34C5ByLUZ/v+J+N112MzwbQpfSf9nLuGEtOlrQhjg3sBWRpvRPSCWNi4kNvQBjuQ01sMMFlSXiKwEvJjQwO94HAdyGhrA3UJvGnoCjiQ4vySME3XRxssJ8ZROwJj45/4d4dkdBs9FxlQ6Ac9EOj2b6rgELZyOjKtUAq4Xt6lZNrx/voXXI2KqJAFPRzhbx62lZcXRFqbFoQ2CyxHOTpSWFUcbb0fEE2PRC6yieXc5xVkJxoUBtgrxOykNf13gqGgrWgXjWCyIo7YE9B4k7LU1YYqskwmcGxBD7QkY13/5u47DZZRFUJf4qxJQtBts4wk8KCTkY7yAz0qIi6Hl6h62LZwex3DA7olzL7/kBtXQ0NDQ0NDQ0NAwukwJN8cXcF64sY69Rf6POjYgn8u/TYrldvzQp+3LEmsKqha/on7xDL6sPZPiqErxy7ixlKw4DhfEsSXy4LZd4CjFPsINFYiL4XxEPDMxjqpKwEUZg08mj0XEsy7yNLiKBJwT7hSGwSFxdxenYh2WTcCi4V2SjAk30EUxbQi1B1GUScCi8rV8sbTEX5LMpTguk4D5cpqiGRMvfk1ijyz7CLyi3uPyQ+K6fdceSm2gikFwBfdlyRvMcWkVqAs5jVQ1DW7hVdVcnN4v/Y5gSWZPrHIh1E3EW3hU2rpgGk9K6+5dW5Ww9u+9GGkL08YgNuUVQ2zjE3wobI6+wx+dzyaE/cJtQi1Qbs/5EQ/g08zfF/aA+U5wo1gouSrsCEsxKAF7p7lRK5VdkldGH52AfnP8qBRLL6hw6u2XgKIFzlHFtQR12BoeLq24h5Y08V2G+cLEhnBDXduGK1X8XrqvzPykeuFXBOHTebLiyRW/l7ZQQnNauV6xLhxnHVPTErtfgcQ8nqqwjZbwytw9wmtzs8IsMmlX1KZQuPCN3dfm3utYVml7Q0NDQwz/AgY534qBQ/uGAAAAAElFTkSuQmCC\"","import React, { Component } from \"react\";\r\n\r\nclass Search extends Component {\r\n  render() {\r\n    return (\r\n      <input\r\n        autoFocus\r\n        className=\"searchbox\"\r\n        placeholder=\" Search for...\"\r\n        value={this.props.query}\r\n        onChange={e => this.props.handleSearch(e.target.value)}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nclass ChartContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: false\r\n    };\r\n\r\n    this.handleExpand = this.handleExpand.bind(this);\r\n  }\r\n\r\n  handleExpand = event => {\r\n    // Don't expand if title url is clicked\r\n    if (!event.target.className.includes(\"card-title\")) {\r\n      this.setState({\r\n        expanded: !this.state.expanded ? true : false\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handle long and short story from when card is expanded or closed\r\n  getStoryText(text) {\r\n    if (this.state.expanded || this.props.story.title.length < maxLength) {\r\n      return text;\r\n    } else {\r\n      return text.slice(0, maxLength) + \"...\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let expandedClass = this.state.expanded ? \"card-expanded\" : \"\";\r\n    let storyText = this.getStoryText(this.props.story.title);\r\n    return (\r\n      <Card\r\n        className={expandedClass}\r\n        key={this.props.story.id}\r\n        onClick={this.handleExpand}\r\n      >\r\n        <Card.Body>\r\n          &#9650; {this.props.story.score}\r\n          <a\r\n            className=\"card-story-url\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href={this.props.story.url}\r\n          >\r\n            <Card.Title>{this.props.story.title}</Card.Title>\r\n          </a>\r\n          <Card.Subtitle className=\"text-muted\">\r\n            by {this.props.story.by}\r\n          </Card.Subtitle>\r\n          <Card.Text>{storyText}</Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n// Maximum length of story text before being shortened when card is collapsed\r\nconst maxLength = 25;\r\n\r\nexport default ChartContainer;\r\n","import React, { Component } from \"react\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Fade from \"react-bootstrap/Fade\";\n\nimport Search from \"./components/search\";\nimport CardContainer from \"./components/cardContainer\";\nimport loadingSpinner from \"./loading.png\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoaded: false,\n      stories: [],\n      allStories: [],\n      query: \"\"\n    };\n    this.loadNews();\n  }\n\n  // Execute search, query is optional. Operation:\n  // 1, Takes new query param from search component and updates saved query\n  // 2, If no param is given search is repeated with previous query\n  // This is useful to filter stories while they are still being loaded from API\n  handleSearch = query => {\n    query = query !== undefined ? query : this.state.query;\n    let newStories = this.state.allStories.filter(story => {\n      return story.title.toLowerCase().includes(query.toLowerCase())\n        ? story\n        : false;\n    });\n    this.setState({ stories: newStories, query: query });\n  };\n\n  // Load main news object.\n  loadNews = () => {\n    fetch(\"https://hacker-news.firebaseio.com/v0/beststories.json\")\n      .then(res => res.json())\n      .then(\n        newsList => {\n          this.loadNewsStories(newsList);\n        },\n        error => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      );\n  };\n\n  // Load individual news stories and store in state\n  loadNewsStories = newsList => {\n    let newStories = [];\n    let promises = newsList.map((storyId, index) => {\n      return fetch(\n        \"https://hacker-news.firebaseio.com/v0/item/\" + storyId + \".json\"\n      )\n        .then(res => res.json())\n        .then(\n          story => {\n            newStories = [...newStories, story];\n            // Render only after a minimum number of stories are loaded for performance\n            // Render when all values are loaded\n            if (!(index % minStoriesLoaded) || index === newsList.length - 1) {\n              this.setState(\n                {\n                  stories: newStories,\n                  allStories: newStories\n                },\n                // Search runs on same update cycle if the searchbox is not empty\n                // This lets searches to be executed before all stories have been loaded\n                () => {\n                  if (this.state.query) {\n                    this.handleSearch();\n                  }\n                }\n              );\n            }\n          },\n          error => {\n            this.setState({\n              isLoaded: true,\n              error\n            });\n          }\n        );\n    });\n    // isLoaded parameter is used by the loading spinner.\n    Promise.all(promises).then(() => {\n      this.setState({ isLoaded: true });\n    });\n  };\n\n  getCardDeck() {\n    // Notice placeholder when search is done with no matches\n    if (!this.state.stories.length && this.state.allStories.length) {\n      return <h5 className=\"card-deck-placeholder\">No matches found.</h5>;\n    } else if (this.state.allStories.length > minStoriesLoaded) {\n      // Create card deck when minimum of loaded stories are met\n      let storyList = this.state.stories.map(story => {\n        return <CardContainer key={story.id} story={story} />;\n      });\n      return <CardDeck>{storyList}</CardDeck>;\n      // Placeholder before any results are loaded\n    } else {\n      return (\n        <div className=\"card-deck-placeholder\">\n          <img\n            className=\"loading-spinner rotate faded\"\n            alt=\"Loading\"\n            src={loadingSpinner}\n          />\n        </div>\n      );\n    }\n  }\n\n  render() {\n    let cardDeck = this.getCardDeck();\n    let error = this.state.error ? <h3>Error loading stories!</h3> : null;\n    // Loading spinner will only show when a search is done while still loading.\n    // It indicates that results might be partial.\n    return (\n      <React.Fragment>\n        <Navbar bg=\"light\">\n          <Navbar.Brand className=\"navbar-title\" href=\"#home\">\n            Hackernews Stories\n            <Fade\n              className=\"search-loading-notice rotate\"\n              in={!this.state.isLoaded && this.state.query !== \"\"}\n            >\n              <img alt=\"Loading\" src={loadingSpinner} />\n            </Fade>\n          </Navbar.Brand>\n          <Search handleSearch={this.handleSearch} query={this.query} />\n        </Navbar>\n        {error}\n        {cardDeck}\n      </React.Fragment>\n    );\n  }\n}\n// Number of stories to be loaded before first render. 25 cards will fill the typical display.\nconst minStoriesLoaded = 25;\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}